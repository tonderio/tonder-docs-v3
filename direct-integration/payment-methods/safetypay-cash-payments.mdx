---
title: "How to Accept SafetyPay Cash Payments"
sidebarTitle: "SafetyPay"
'og:description': "Step-by-step guide to process cash payments with SafetyPay across Latin America"
---

This guide shows you how to accept cash payments using SafetyPay, an alternative cash payment network that operates across Latin America. SafetyPay is ideal for regions without OXXO coverage or when you want to offer additional cash payment options to your customers.

## Before You Start

Make sure you have:
- A Tonder account with SafetyPay integration enabled.
- Your API credentials set up.
- Understanding that SafetyPay payments are asynchronous (customers pay at participating locations).

## When to Use SafetyPay

SafetyPay is ideal for:
- Customers in regions without OXXO coverage.
- Expanding cash payment options beyond convenience stores.
- Markets where SafetyPay has established payment networks.
- Customers who prefer alternative payment locations.

## Step 1: Create a SafetyPay Payment Request

SafetyPay payments are straightforward - just specify the payment type and the API will generate payment instructions:

```json
{
  "operation_type": "payment",
  "amount": 180.00,
  "currency": "MXN",
  "customer": {
    "name": "Patricia Morales Vega",
    "email": "patricia.morales@email.com"
  },
  "payment_method": {
    "type": "SAFETYPAY"
  },
  "client_reference": "order-789"
}
```

## Step 2: Send the Payment Request

Make a POST request to create the SafetyPay payment:

```bash
curl -X POST https://stage.tonder.io/api/v1/process/ \
  -H "Authorization: Token YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "operation_type": "payment",
    "amount": 180.00,
    "currency": "MXN",
    "customer": {
      "name": "Patricia Morales Vega",
      "email": "patricia.morales@email.com"
    },
    "payment_method": {
      "type": "SAFETYPAY"
    },
    "client_reference": "order-789"
  }'
```

## Step 3: Handle the Response

SafetyPay payments start with a `pending` status and include payment instructions:

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "operation_type": "payment",
  "status": "pending",
  "amount": 180.00,
  "currency": "MXN",
  "payment_instructions": {
    "reference_code": "SP180456789",
    "payment_locations": [
      "Tiendas de conveniencia autorizadas",
      "Farmacias participantes", 
      "Supermercados afiliados"
    ],
    "expiration_date": "2024-07-29T23:59:59Z",
    "instructions": [
      "Acude a un punto de pago SafetyPay autorizado",
      "Presenta el código de referencia",
      "Paga exactamente $180.00 MXN en efectivo"
    ]
  },
  "voucher_url": "https://api.safetypay.com/vouchers/abc123",
  "store_locator": "https://safetypay.com/locator?ref=SP180456789",
  "created_at": "2024-07-26T10:30:00Z"
}
```

## Step 4: Provide Payment Instructions to Your Customer

Create clear instructions for SafetyPay payments:

<Steps>
<Step title="Show the reference code prominently">
Display the `reference_code` that customers need to present at payment locations.
</Step>
<Step title="List payment locations">
Show the types of locations where customers can pay using `payment_locations`.
</Step>
<Step title="Provide store locator">
Include a link to the `store_locator` to help customers find nearby payment locations.
</Step>
<Step title="Set clear expectations">
Explain the payment process and timeline using the `instructions` array.
</Step>
<Step title="Include expiration date">
Clearly show when the payment voucher expires.
</Step>
</Steps>

### Customer Instructions Template

Provide clear instructions to help customers complete their SafetyPay payment. Here is an example of how to present the payment instructions to your customer:

```html
<div class="safetypay-voucher">
  <h2>Completa tu pago con SafetyPay</h2>
  
  <div class="reference-code">
    <h3>Código de referencia: SP180456789</h3>
    <p>Presenta este código en el punto de pago</p>
  </div>
  
  <div class="amount">
    <h3>Monto a pagar: $180.00 MXN</h3>
  </div>
  
  <div class="locations">
    <h4>Dónde puedes pagar:</h4>
    <ul>
      <li>Tiendas de conveniencia autorizadas</li>
      <li>Farmacias participantes</li>
      <li>Supermercados afiliados</li>
    </ul>
    <a href="{STORE_LOCATOR_URL}" target="_blank">
      Encontrar puntos de pago cercanos
    </a>
  </div>
  
  <div class="instructions">
    <h4>Instrucciones:</h4>
    <ol>
      <li>Acude a un punto de pago SafetyPay autorizado</li>
      <li>Presenta el código de referencia</li>
      <li>Paga exactamente $180.00 MXN en efectivo</li>
    </ol>
  </div>
  
  <div class="expiration">
    <p><strong>Válido hasta:</strong> 29 de julio, 2024</p>
  </div>
  
  <a href="{VOUCHER_URL}" class="voucher-link">
    Ver comprobante completo
  </a>
</div>
```

## Step 5: Track Payment Status

SafetyPay payments follow this status flow:

1. **`pending`** - Waiting for customer to pay at authorized location
2. **`success`** - Cash payment received and confirmed by SafetyPay network

### Using Webhooks (Recommended)

Webhooks provide real-time notifications when payment status changes. Set up webhooks to receive payment confirmations:

```json
{
  "event": "payment.status_changed",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "status": "success", 
    "amount": 180.00,
    "completed_at": "2024-07-27T15:45:00Z",
    "payment_location": "Farmacia San Pablo - Sucursal Centro"
  }
}
```

### Using Status Polling

If you prefer not to use webhooks, you can check payment status periodically by polling the API:

```bash
curl -X GET https://stage.tonder.io/api/v1/transactions/550e8400-e29b-41d4-a716-446655440000/ \
  -H "Authorization: Token YOUR_API_KEY"
```

## Step 6: Handle SafetyPay-Specific Scenarios

There are some specificities to consider when using SafetyPay payments:

### Payment Locations

SafetyPay partners with various types of businesses:

- Regional chains and independent stores.
- Major pharmacy chains.
- Selected supermarket locations.
- Some bank branches (varies by region).

### Processing Timeline

The processing time for SafetyPay payments follows these rules:

- Payment window is usually 3-7 days from voucher generation.
- Confirmation time is 24-48 hours after customer pays at location.
- Business hours vary by payment location (many 24/7 options available).

### Amount Limits

Regarding the amount limits, SafetyPay has the following restrictions:

- Minimum amount is typically $10 MXN (varies by location).
- Maximum amount is usually $5,000-10,000 MXN per transaction.
- Daily limits may apply depending on payment location.

## Common Scenarios and Solutions

Here you can find some common scenarios and solutions:

<AccordionGroup>
<Accordion title="Customer Can't Find Payment Location">
This is an example of how to provide store locator assistance:

```javascript
// Provide store locator assistance
function helpFindPaymentLocation(referenceCode) {
  const locatorUrl = `https://safetypay.com/locator?ref=${referenceCode}`;
  const customerSupport = "1-800-SAFETYPAY";
  
  return {
    message: "Use our store locator to find nearby payment locations",
    locatorUrl: locatorUrl,
    supportPhone: customerSupport,
    alternatives: [
      "Try searching for 'SafetyPay' at nearby convenience stores",
      "Ask at pharmacy counters if they accept SafetyPay",
      "Contact customer support for location assistance"
    ]
  };
}
```
</Accordion>

<Accordion title="Payment Voucher Expired">
This is an example of how to handle expired vouchers:

```javascript
// Handle expired vouchers
function handleExpiredVoucher(originalTransactionId) {
  return {
    message: "This payment voucher has expired",
    actions: [
      "Create a new payment request",
      "Contact customer support if payment was already made",
      "Consider alternative payment methods"
    ],
    newPaymentUrl: "/create-new-payment",
    supportContact: "support@yourstore.com"
  };
}
```
</Accordion>
</AccordionGroup>

## Best Practices for SafetyPay Integration

Follow these best practices to integrate SafetyPay payments:

<AccordionGroup>
<Accordion title="Customer Experience">
- Explain that SafetyPay is different from OXXO.
- Always provide links to find payment locations.
- Send instructions via email and SMS.
- Keep customers informed about payment status.
</Accordion>

<Accordion title="Technical Implementation">
- Offer alternative payment methods.
- Prioritize SafetyPay in regions where it's strong.
- Handle network timeouts and API errors.
- Ensure vouchers display well on mobile devices.
</Accordion>

<Accordion title="Business Considerations">
- Check SafetyPay availability in your target markets.
- Some customers may be unfamiliar with SafetyPay.
- Factor in 24-48 hour processing time for order fulfillment.
- Train support team on SafetyPay-specific questions.
</Accordion>
</AccordionGroup>

## Integration Example

Here is an example of how to implement SafetyPay integration:

```javascript
class SafetyPayHandler {
  async createPayment(orderData) {
    const paymentRequest = {
      operation_type: "payment",
      amount: orderData.total,
      currency: "MXN",
      customer: orderData.customer,
      payment_method: { type: "SAFETYPAY" },
      client_reference: orderData.orderId
    };
    
    try {
      const response = await this.apiClient.post('/process/', paymentRequest);
      return this.displayVoucher(response);
    } catch (error) {
      console.error('SafetyPay payment creation failed:', error);
      throw error;
    }
  }
  
  displayVoucher(response) {
    const instructions = response.payment_instructions;
    
    return {
      referenceCode: instructions.reference_code,
      amount: response.amount,
      locations: instructions.payment_locations,
      storeLocator: response.store_locator,
      voucherUrl: response.voucher_url,
      expirationDate: instructions.expiration_date,
      instructions: instructions.instructions
    };
  }
  
  async checkPaymentStatus(transactionId) {
    const response = await this.apiClient.get(`/transactions/${transactionId}/`);
    return response.status;
  }
}
```

## Next Steps

- Set up [webhooks](/direct-integration/webhooks/how-webhooks-works) to receive notifications when SafetyPay payments are completed.
- Learn about [HTTP response codes](/direct-integration/http-response-codes) to handle different API responses.
- Explore [OXXO cash payments](/direct-integration/payment-methods/oxxo-cash-payments) as an alternative cash payment method.