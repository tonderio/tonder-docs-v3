---
title: "Create a Payment with Raw Card Data"
sidebarTitle: "PCI Compliant Raw Card Processing"
---

This guide shows you how to process payments directly with raw card data without tokenization. This approach is designed for merchants who already have full PCI DSS Level 1 compliance and want to eliminate the multi-step tokenization process.

<Warning>
## Availability Restriction

This process is only available for clients who are fully PCI DSS compliant. You must maintain enterprise-grade security and handle raw card data according to all PCI DSS requirements.
</Warning>

## Prerequisites

Before you begin, ensure you have:

- Full PCI DSS Level 1 certification - This is mandatory for handling raw card data
- Valid Tonder API key from your [Dashboard → Developers → API Keys](https://app.tonder.io/accounts/login/)

<Info>
## When to Use This Approach

Raw card processing is recommended for:
- Large enterprise merchants already PCI Level 1 certified
- Payment processors operating under existing PCI compliance
- High-volume businesses with existing PCI infrastructure
- Systems where reduced latency is critical

It is not recommended for:
- Small to medium businesses without PCI compliance
- New payment integrations
- Cost-conscious merchants (compliance maintenance is expensive)
</Info>

## 1. Configure API Authentication

Set up authentication headers for the PCI compliant processing endpoints.

Use these headers for all requests:

```http
Authorization: Token <YOUR_API_KEY>
Content-Type: application/json
```

The API key is the same one from your Dashboard → Developers → API Keys → Public API Key.

## 2. Choose the Appropriate Endpoint

Select the correct endpoint based on your environment:

| Environment | Endpoint | Purpose |
|-------------|----------|---------|
| **Testing** | `https://process-sandbox.tonder.io/` | PCI compliant testing |
| **Production** | `https://process.tonder.io/` | PCI compliant live transactions |

## 3. Process the Payment

Send a POST request with raw card data directly to the PCI compliant endpoint.

The request structure is identical to the standard process endpoint, but with raw card data.

<Info>
For testing, use the card numbers and test data available in our [Testing Data guide](/direct-integration/testing-data) to ensure your integration works correctly before going live.
</Info>

<CodeGroup>

```bash cURL Example
curl -X POST https://process-sandbox.tonder.io/ \
  -H "Authorization: Token 04fbdd63113c009b6ac14c7d230b13909ae11221" \
  -H "Content-Type: application/json" \
  -d '{
    "operation_type": "payment",
    "amount": 150.00,
    "currency": "MXN",
    "customer": {
      "name": "Ana María Rodríguez",
      "email": "ana.rodriguez@email.com"
    },
    "payment_method": {
      "type": "CARD",
      "card_number": "4444444444444455",
      "cardholder_name": "Ana María Rodríguez",
      "cvv": "123",
      "expiration_year": "26",
      "expiration_month": "07"
    },
    "client_reference": "order-789",
    "return_url": "https://mystore.com/payment/return"
  }'
```

```python Python Example
import requests
import json

def process_pci_payment():
    """Process PCI compliant card payment"""
    
    # API configuration
    api_key = '04fbdd63113c009b6ac14c7d230b13909ae11221'
    sandbox_url = 'https://process-sandbox.tonder.io/'
    
    # Headers
    headers = {
        'Authorization': f'Token {api_key}',
        'Content-Type': 'application/json'
    }
    
    # Payment data
    payment_data = {
        'operation_type': 'payment',
        'amount': 150.00,
        'currency': 'MXN',
        'customer': {
            'name': 'Ana María Rodríguez',
            'email': 'ana.rodriguez@email.com'
        },
        'payment_method': {
            'type': 'CARD',
            'card_number': '4444444444444455',
            'cardholder_name': 'Ana María Rodríguez',
            'cvv': '123',
            'expiration_year': '26',
            'expiration_month': '07'
        },
        'client_reference': 'order-789',
        'return_url': 'https://mystore.com/payment/return'
    }
    
    try:
        # Make request
        response = requests.post(
            sandbox_url,
            headers=headers,
            json=payment_data,
            timeout=30
        )
        
        if response.status_code == 201:
            result = response.json()
            print(f"Payment successful: {result['id']}")
            return result
        else:
            error = response.json()
            print(f"Payment failed: {error}")
            return None
            
    except requests.exceptions.RequestException as e:
        print(f"Network error: {e}")
        return None

# Example usage
if __name__ == "__main__":
    payment_result = process_pci_payment()
    
    if payment_result:
        print(f"Transaction ID: {payment_result['id']}")
        print(f"Status: {payment_result['status']}")
        
        # Handle 3DS redirect if needed
        if 'next_action' in payment_result:
            next_action = payment_result['next_action']
            if 'redirect_to_url' in next_action:
                print(f"3DS Authentication required:")
                print(f"Redirect URL: {next_action['redirect_to_url']['url']}")
```

```javascript JavaScript Example
async function processPCIPayment() {
    // API configuration
    const apiKey = '04fbdd63113c009b6ac14c7d230b13909ae11221';
    const sandboxUrl = 'https://process-sandbox.tonder.io/';
    
    // Headers
    const headers = {
        'Authorization': `Token ${apiKey}`,
        'Content-Type': 'application/json'
    };
    
    // Payment data
    const paymentData = {
        operation_type: 'payment',
        amount: 150.00,
        currency: 'MXN',
        customer: {
            name: 'Ana María Rodríguez',
            email: 'ana.rodriguez@email.com'
        },
        payment_method: {
            type: 'CARD',
            card_number: '4444444444444455',
            cardholder_name: 'Ana María Rodríguez',
            cvv: '123',
            expiration_year: '26',
            expiration_month: '07'
        },
        client_reference: 'order-789',
        return_url: 'https://mystore.com/payment/return'
    };
    
    try {
        // Make request
        const response = await fetch(sandboxUrl, {
            method: 'POST',
            headers: headers,
            body: JSON.stringify(paymentData)
        });
        
        const result = await response.json();
        
        if (response.status === 201) {
            console.log(`Payment successful: ${result.id}`);
            
            // Handle 3DS redirect if needed
            if (result.next_action && result.next_action.redirect_to_url) {
                console.log('3DS Authentication required');
                console.log(`Redirect URL: ${result.next_action.redirect_to_url.url}`);
                
                // Redirect user to 3DS authentication
                window.location.href = result.next_action.redirect_to_url.url;
            }
            
            return result;
            
        } else {
            console.error('Payment failed:', result);
            return null;
        }
        
    } catch (error) {
        console.error('Network error:', error);
        return null;
    }
}
```

</CodeGroup>

## 4. Handle the Response

Process the payment response according to the status received. The API returns a JSON object with the following structure:

```json
{
  "amount": 150,
  "client_reference": "order-789",
  "created_at": "2025-09-04T23:03:33.778574Z",
  "currency": "MXN",
  "id": "2fd6a7fa-2997-434d-a8e0-1128cf7d00a3",
  "next_action": {
    "redirect_to_url": {
      "return_url": "https://mystore.com/payment/return?tndr_payment_id=45396",
      "url": "https://sandbox.cardpay.com/MI/payments/redirect?token=9e53b5de-76d5-4c59-82a8-09ad4e87f42a",
      "verify_transaction_status_url": "/transactions/2fd6a7fa-2997-434d-a8e0-1128cf7d00a3/"
    }
  },
  "operation_type": "payment",
  "payment_id": 45396,
  "provider": "tonder",
  "status": "Pending",
  "status_code": 201,
  "transaction_id": 8707
}
```

The table below details the fields that are returned in the response:

| Field | Type | Description |
|-------|------|-------------|
| `id` | string | Unique transaction identifier |
| `operation_type` | string | Always `"payment"` |
| `status` | string | Transaction status |
| `amount` | decimal | Transaction amount |
| `currency` | string | Currency code |
| `client_reference` | string | Your reference identifier |
| `payment_id` | integer | Internal payment ID |
| `transaction_id` | integer | Internal transaction ID |
| `provider` | string | Payment provider used |
| `created_at` | string | ISO 8601 timestamp |
| `status_code` | integer | HTTP status code |
| `next_action` | object | Required actions (3DS, redirects) |

Always validate both the `id` and `status` fields in the response for proper payment validation.

## See Also

- [Process Transaction API Reference](/reference/process-transaction) - Complete API documentation
- [Card Tokenization Guide](/direct-integration/guides/create-payments/create-a-payment-with-a-card-token) - Alternative for non-PCI compliant merchants
- [Card Payments Overview](/direct-integration/payment-methods/card-payments) - General card payment information and PCI compliance requirements
- [Webhooks](/direct-integration/webhooks/how-webhooks-works) - Real-time payment notifications

## What's Next

After implementing PCI compliant raw card processing:

- Set up [webhooks](/direct-integration/webhooks/how-webhooks-works) for real-time payment status updates
- Implement [3D Secure authentication](/direct-integration/guides/create-payments/create-a-payment-with-3ds) for enhanced security
- Review [HTTP response codes](/direct-integration/http-response-codes) for comprehensive error handling
- Test your implementation using [testing data](/direct-integration/testing-data)