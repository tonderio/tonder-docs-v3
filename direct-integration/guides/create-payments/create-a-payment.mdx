---
title: "Create a Payment"
sidebarTitle: "Create a Payment"
'og:description': "How to create a payment using Tonder's unified endpoint"
---

This guide shows you how to create a payment using Tonder's unified `/process/` endpoint. You can process various payment methods, from credit cards to local options like SPEI and OXXO, through a single, consistent API call.

## 1. The Core Request

All payments are created by sending a `POST` request to the `/process/` endpoint. The request body must contain common fields like `operation_type`, `amount`, and `customer`, along with a `payment_method` object that specifies how the customer is paying.

The request must be made to the following endpoint:

```POST /process/```

### Basic Request Structure

Follow the structure below when making the request:

```json
{
  "operation_type": "payment",
  "amount": 100.00,
  "currency": "MXN",
  "customer": {
    "name": "Test Customer",
    "email": "test@example.com"
  },
  "payment_method": {
    "type": "CARD"
    // ... additional fields based on the type
  },
  "client_reference": "your-internal-order-id-123"
}
```

Where:

| Field               | Type      | Required    | Description                                                                                 |
|---------------------|-----------|-------------|-------------------------------------------------------------------------------------------|
| `operation_type`    | string    | Yes         | The operation type. For payments, always use `"payment"`.                              |
| `amount`            | decimal   | Yes         | The transaction amount in MXN. Use a dot as decimal separator (ex: `100.00`).             |
| `currency`          | string    | Yes         | Transaction currency. For Mexico, use `"MXN"`.                                             |
| `customer`          | object    | Yes         | Customer data who is making the payment (name, email, etc).                      |
| `payment_method`    | object    | Yes         | Payment method details (type and specific fields according to the chosen method).   |
| `client_reference`  | string    | Yes         | Unique order identifier in your application. Useful for reconciliation and tracking.         |

<Note>
Depending on the payment method you choose, additional fields may be required inside the `payment_method` object (for example: card details, SPEI, OXXO, etc.). Check the sections below for specific examples for each case.
</Note>

## 2. Processing Different Payment Methods

To process a specific payment method, you change the `type` inside the `payment_method` object and provide any required additional fields.

<AccordionGroup>
<Accordion title="Credit/Debit Card Payment">
To process a card payment, set the `type` to `CARD` and provide the tokenized card details.

**Request Body:**

```json
{
  "operation_type": "payment",
  "amount": 150.00,
  "currency": "MXN",
  "customer": {
    "name": "Ana María Rodríguez",
    "email": "ana.rodriguez@email.com"
  },
  "payment_method": {
    "type": "CARD",
    "card_number": "9230-0892-4469-1474",
    "cardholder_name": "c05d89b2-299c-4f93-b49a-42be00d3b64b",
    "cvv": "d31f0da3-0ed3-4ad8-8b68-14c2669a99a7",
    "expiration_month": "e401a32e-4174-424f-9688-727005f6a80e",
    "expiration_year": "bd9ccc23-3d00-4109-9626-fc6581389063"
  },
  "client_reference": "order-789",
  "return_url": "https://mystore.com/payment/return"
}
```

A successful response will have a status of `authorized`. For cards that require extra security, see the guide for [creating a payment with 3DS](/direct-integration/guides/create-payments/create-a-payment-with-3ds).
</Accordion>

<Accordion title="SPEI Bank Transfer">
To let a customer pay via a SPEI transfer, set the `type` to `SPEI`. The API will generate payment instructions for the customer.

**Request Body:**

```json SPEI Bank Transfer
{
  "operation_type": "payment",
  "amount": 500.00,
  "currency": "MXN",
  "customer": {
    "name": "Carlos Eduardo López",
    "email": "carlos.lopez@empresa.mx"
  },
  "payment_method": {
    "type": "SPEI"
  },
  "client_reference": "spei-test-001"
}
```

A successful response will have a status of `pending` and will include instructions for the customer to complete the transfer.
</Accordion>

<Accordion title="OXXO Cash Payment">
To generate a voucher for a cash payment at an OXXO store, set the `type` to `oxxopay`.

**Request Body:**

```json OXXO Cash Payment
{
  "operation_type": "payment",
  "amount": 250.00,
  "currency": "MXN",
  "customer": {
    "name": "María Isabel Fernández",
    "email": "maria.fernandez@email.com"
  },
  "payment_method": {
    "type": "oxxopay"
  },
  "client_reference": "oxxo-test-001"
}
```

A successful response will have a status of `pending` and will include a `payment_instructions` object containing a barcode and reference number for the customer to present at the store.
</Accordion>
</AccordionGroup>

## 3. Handling the Response

After you send the request, the API will respond immediately with the initial status of the transaction.

### Synchronous vs. Asynchronous Payments

  * **Card Payments** are typically **synchronous**. You will get a final status (`authorized` or `declined`) in the initial API response.
  * **SPEI and OXXO Payments** are **asynchronous**. The initial status will be `pending` because they require the customer to take further action. You must use [Webhooks](/direct-integration/webhooks/how-webhooks-works) or poll the transaction status endpoint to know when the payment is completed.

### Example Successful Response (`authorized` card payment)

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "operation_type": "payment",
  "status": "authorized",
  "amount": 150.00,
  "currency": "MXN",
  "merchant_reference": "order-789",
  "payment_id": 12345,
  "transaction_id": "txn_abc123",
  "provider": "stripe",
  "created_at": "2024-07-26T10:30:00Z",
  "status_code": 201
}
```

Store the `id` from the response, as you will use this to reference the transaction later.

## 4. Check the Transaction Status

For asynchronous payments, or if you need to confirm the final status of any transaction, you can make a `GET` request to the transaction status endpoint.

**Endpoint:** `GET /transactions/{transaction_id}/`

```bash cURL
curl -X GET https://stage.tonder.io/api/v1/transactions/550e8400-e29b-41d4-a716-446655440000/ \
-H "Authorization: Token <YOUR_SANDBOX_API_KEY>"
```

This will return the full transaction object with its current `status` (e.g., `success`, `failed`, `expired`).

## Next Steps

- Learn how to [create a payment with 3D Secure](/direct-integration/guides/create-payments/create-a-payment-with-3ds) for enhanced card security.
- Explore [creating payments with card tokens](/direct-integration/guides/create-payments/create-a-payment-with-a-card-token) to securely store and reuse customer payment methods.
- Set up [webhooks](/direct-integration/webhooks/how-webhooks-works) to receive real-time notifications when payment statuses change.

